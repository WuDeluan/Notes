# 学生信息管理系统

## 准备
* 1.数据库
```sql
CREATE TABLE `stu` (
	`sid` INT(11) NOT NULL AUTO_INCREMENT,
	`sname` CHAR(5) NULL ,
	`gender` CHAR(2) NULL ,
	`phone` CHAR(12) NULL ,
	`birthday` DATE NULL ,
	`hobby` CHAR(50) NULL ,
	`info` CHAR(50) NULL ,
	PRIMARY KEY (`sid`)
)
```
* 2.创建实体类 Student

* 3.导入相应jar包
    * Eclipse项目中web app libraries和 Referenced Libraries区别
     ```
    * Referenced  Libraries是编译环境下使用的JAR包
      所谓编译环境下使用的JAR包, 就是说你在Eclipse中进行源文件的编写的时候,所需要引用到的类都从Referenced  Libraries这个集合中的JAR包中拿;
      
    * /web-inf/lib中的JAR包是运行时环境下使用的JAR包
       所谓运行时环境下使用的JAR包,就是说你在运行你的项目的时候所需要使用的JAR包的集合;
    ```
## 查询
* 1.先写一个jsp页面，里面放一个超链接
```jsp
  <h3><a href="StudentListServlet">显示所有学生列表</a></h3>
```
* 2.写Servlet接受请求，去调用Service，由service调用Dao<br>
* 3.先写Dao,做Dao的实现
```java
    public interface StudentDao {	
      /**
       * 查询所有的学生信息
       * @return List<student>
       * @throws SQLException
       */
      List<Student> findAll() throws SQLException;
      }
```
```java
    public class StudentDaoImpl implements StudentDao{ 

      @Override
      public List<Student> findAll() throws SQLException {
        DataSource dataSource = JDBCUtil.getDataSource();
        QueryRunner runner = new QueryRunner(dataSource);
        return runner.query("select * from stu", new BeanListHandler<Student>(Student.class));
       }
     }
```
  
* 4.再Service，做Service的实现<br>
```java
    public interface StudentService {

      /**
       * 查询所有学生信息
       * @return List<student>
       * @throws SQLException
       */
       List<Student> findAll() throws SQLException;
       }
```
```java
    public class StudentServiceImpl implements StudentService{

	@Override
	public List<Student> findAll() throws SQLException {
		StudentDao dao = new StudentDaoImpl();
		return dao.findAll();
	  }
  }
```
* 5.在servlet存储数据，并且做页面响应<br>
```java
    public class StudentListServlet extends HttpServlet {
      /**
       * 负责查询所有的学生信息，然后呈现在页面上
       */
      protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        try {
          //1.查询出来所有的学生
          StudentService service = new StudentServiceImpl();
          List<Student> list = service.findAll();

          //2.先把数据存到作用域中
          request.setAttribute("list", list);

          //3.跳转页面
          request.getRequestDispatcher("list.jsp").forward(request, response);
        } catch (SQLException e) {
          e.printStackTrace();
        }	
      }

      protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        doGet(request, response);
      }

    }
```
* 6.在list。jsp上显示数据
> 使用EL + JSTL + 表格

